<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        @font-face {
            font-family: "KoPubWorld Dotum Bold";
            src: url("../default/font/KoPubWorld Dotum Bold.ttf");
        }
        @font-face {
            font-family: "GmarketSansTTFBold";
            src: url("../default/font/GmarketSansTTFBold.ttf");
        }
        #dataDisplay {
            display: flex;
            gap: 20px;
            flex-wrap: wrap; /* 자식 요소들이 가로로 나열되다가 화면 크기에 맞춰 줄바꿈 */
        }
        .cardContainer {
            font-family: "KoPubWorld Dotum Bold", serif;
            border: 1px solid #D9D9D9;
            width: 320px;
            height: 360px;
            border-radius: 10px;
        }
        .cardImage {
            width: 85%;
            height: 43%;
            margin: 15px auto 0;
            background-color: #dcdcdc;
            border-radius: 2px;
            background-size: cover; /*이미지 사이즈 지정*/
        }
        .textContainer {
            width: 83%;
            height: 26%;
            margin: 23px auto 0;
        }
        .title {
            width: 80%;
            height: 50px;
            font-size: 36px;
            padding-left: 15px;

        }

        .information{
            width: 80%;
            height: 70px;
            font-size: 24px;
            padding-left: 15px;
            margin-top: 5px;

        }

        .buttonBox{
            width: 80px;
            float: right;
            margin-right: 12px;
            margin-top: 20px;
        }

        .buttonBox button{
            height: 40px;
            width: 80px;
            background-color: #00A3FF;
            color: white;
            border: none;
            border-radius: 5px;

        }
    </style>

    </style>
</head>
<body>
<div id="dataDisplay"></div> <!-- 데이터를 표시할 부분 -->

<button onclick="fetchData()">데이터 가져오기</button>

<script>
    const fetchData = async () => {
        try {
            const response = await fetch(`http://localhost:8080/api/builder/metadata/f7d66070755e711e4033200901def8d2ab29797b1e7a2046bd6e3b0184373a21`, {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const responseData = await response.json();

            console.log(responseData);

            // 데이터를 표시할 div 요소에 추가
            const dataDisplay = document.getElementById('dataDisplay');

            // 데이터 디스플레이를 초기화
            dataDisplay.innerHTML = '';

            // responseData 배열을 순회하며 각각의 데이터를 디자인에 맞게 표시
            responseData.forEach(data => {
                // 카드 컨테이너 생성
                const cardContainer = document.createElement('div');
                cardContainer.classList.add('cardContainer');

                const cardImage = document.createElement('div');
                cardImage.classList.add('cardImage');
                cardImage.style.backgroundImage = `url(http://localhost:8080/api/blob/images/hamster_jpg_such1123_naver_com_1.png)`; // 첫 번째! 이미지 수정하는 곳



                // 텍스트 컨테이너 생성
                const textContainer = document.createElement('div');
                textContainer.classList.add('textContainer');

                // 타이틀 생성
                const title = document.createElement('div');
                title.classList.add('title');
                title.textContent = data.id // 두 번째!! 여기에는 실제 데이터의 필드명을 지정

                // 정보 생성
                const information = document.createElement('div');
                information.classList.add('information');
                information.textContent = data.name; // 두 번째!! 여기에는 실제 데이터의 필드명을 지정

                // 버튼 박스 생성
                const buttonBox = document.createElement('div');
                buttonBox.classList.add('buttonBox');

                // 버튼 생성
                const button = document.createElement('button');
                button.textContent = '보기';

                // 버튼 클릭 이벤트 처리
                button.addEventListener('click', () => {
                    console.log("먀?")
                });

                // 버튼을 버튼 박스에 추가
                buttonBox.appendChild(button);

                // 생성한 요소들을 cardContainer에 추가
                cardContainer.appendChild(cardImage);
                cardContainer.appendChild(textContainer);
                textContainer.appendChild(title);
                textContainer.appendChild(information);
                cardContainer.appendChild(buttonBox);

                // cardContainer를 dataDisplay에 추가
                dataDisplay.appendChild(cardContainer);
            });
        } catch (error) {
            console.error('Error fetching data:', error);
        }
    };
</script>
</body>
</html>
